–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: Telegram-–±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–ø–ø–∞—Ä–∞—Ç–æ–º –º–æ–π–∫–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã—Ö –∫–æ–≤—Ä–∏–∫–æ–≤
–ü–æ–ª–Ω–æ–µ –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Å –¥–∏–∞–≥—Ä–∞–º–º–∞–º–∏ –∏ –∫–æ–¥–æ–º

1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

1.1. –ë–ª–æ–∫-—Å—Ö–µ–º–∞ —Å–∏—Å—Ç–µ–º—ã

Diagram
Code
1.2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç    –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ    –ü—Ä–∏–º–µ—Ä
Telegram Bot    –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è    Bot Icon
Raspberry Pi    –¶–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è    RPi
–î–∞—Ç—á–∏–∫ –≤–æ–¥—ã    –ö–æ–Ω—Ç—Ä–æ–ª—å —É—Ä–æ–≤–Ω—è –≤–æ–¥—ã    Water Sensor
–†–µ–ª–µ    –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–º–ø–æ–π    Relay
2. –ü–æ—à–∞–≥–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

2.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–π —á–∞—Å—Ç–∏

–°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

Diagram
Code
Mermaid rendering failed.
–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–µ—Ç–∞–ª–∏:

–†–µ–ª–µ ‚Üí GPIO17
–î–∞—Ç—á–∏–∫ –≤–æ–¥—ã ‚Üí GPIO4 + 5V
–ü–æ–º–ø–∞ ‚Üí 12V (—á–µ—Ä–µ–∑ —Ä–µ–ª–µ)
2.2. –°–æ–∑–¥–∞–Ω–∏–µ Telegram-–±–æ—Ç–∞

–î–∏–∞–≥—Ä–∞–º–º–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –±–æ—Ç–∞

Diagram
Code
–ö–æ–¥ –±–æ—Ç–∞ (Python)

python
from telegram.ext import Updater, CommandHandler
import RPi.GPIO as GPIO
import time

TOKEN = "–í–ê–®_–¢–û–ö–ï–ù"
PUMP_PIN = 17
WATER_SENSOR = 4

def start(update, context):
    update.message.reply_text("üöó –ë–æ—Ç –¥–ª—è –º–æ–π–∫–∏ –∫–æ–≤—Ä–∏–∫–æ–≤ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!")

def wash(update, context):
    GPIO.output(PUMP_PIN, GPIO.HIGH)
    update.message.reply_text("üîµ –ù–∞—á–∞—Ç–∞ –º–æ–π–∫–∞...")
    time.sleep(300)  # 5 –º–∏–Ω—É—Ç –º–æ–π–∫–∏
    GPIO.output(PUMP_PIN, GPIO.LOW)
    update.message.reply_text("‚úÖ –ú–æ–π–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –ó–∞–ø—É—â–µ–Ω–∞ —Å—É—à–∫–∞.")

GPIO.setmode(GPIO.BCM)
GPIO.setup(PUMP_PIN, GPIO.OUT)
GPIO.setup(WATER_SENSOR, GPIO.IN)

updater = Updater(TOKEN)
updater.dispatcher.add_handler(CommandHandler('start', start))
updater.dispatcher.add_handler(CommandHandler('wash', wash))
updater.start_polling()
3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥–∞—Ç—á–∏–∫–∞–º–∏

3.1. –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –¥–∞—Ç—á–∏–∫–∞ –≤–æ–¥—ã

python
def check_water(update, context):
    if GPIO.input(WATER_SENSOR) == 0:
        update.message.reply_text("‚ö†Ô∏è –ù–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –≤–æ–¥—ã!")
    else:
        update.message.reply_text("üíß –í–æ–¥–∞ –≤ –Ω–æ—Ä–º–µ")
3.2. –î–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π

Diagram
Code
4. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

4.1. –¢–∞–±–ª–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GPIO

–ü–∏–Ω    –ö–æ–º–ø–æ–Ω–µ–Ω—Ç    –†–µ–∂–∏–º
GPIO17    –†–µ–ª–µ    OUTPUT
GPIO4    –î–∞—Ç—á–∏–∫ –≤–æ–¥—ã    INPUT
5V    –ü–∏—Ç–∞–Ω–∏–µ –¥–∞—Ç—á–∏–∫–∞    -
GND    –ó–µ–º–ª—è    -
4.2. –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ (systemd)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª /etc/systemd/system/mat_bot.service:

ini
[Unit]
Description=Telegram Bot for Car Mat Washer
After=network.target

[Service]
ExecStart=/usr/bin/python3 /home/pi/bot.py
WorkingDirectory=/home/pi
Restart=always

[Install]
WantedBy=multi-user.target
–ó–∞–ø—É—Å—Ç–∏—Ç–µ:

bash
sudo systemctl enable mat_bot
sudo systemctl start mat_bot
5. –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

–ü—Ä–æ–±–ª–µ–º–∞    –†–µ—à–µ–Ω–∏–µ
–ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç    –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
–ü–æ–º–ø–∞ –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è    –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–ª–µ –∏ –ø–∏—Ç–∞–Ω–∏–µ 12V
–î–∞—Ç—á–∏–∫ –≤–æ–¥—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É    –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –¥–∞—Ç—á–∏–∫–∞ –≤ –≤–æ–¥–µ
6. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

6.1. –î–∏–∞–≥—Ä–∞–º–º–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

Diagram
Code
6.2. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Flask –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

python
from flask import Flask
app = Flask(__name__)

@app.route('/')
def dashboard():
    return "<h1>–°—Ç–∞—Ç—É—Å –º–æ–π–∫–∏: –ê–∫—Ç–∏–≤–µ–Ω</h1>"
7. –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞ –ø—Ä–æ–µ–∫—Ç–∞

–û–±—â–∞—è —Å—Ö–µ–º–∞

üöÄ –ì–æ—Ç–æ–≤–æ! –í–∞—à –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å:

–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ Telegram
–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∞–ø–ø–∞—Ä–∞—Ç —á–µ—Ä–µ–∑ Raspberry Pi
–õ–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
